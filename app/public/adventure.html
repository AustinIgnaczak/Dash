<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Introducing Lollipop, a sweet new take on dash.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>dash</title>
    
    <!-- Page styles -->
     <link href="bootstrap/bootstrap.css" rel="stylesheet">
     <link href="bootstrap/contact.css" rel="stylesheet">
     <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.min.css">
    <script type="text/javascript" src="http://api.eventful.com/js/api">
    </script>
      <script src="https://code.jquery.com/jquery.js"></script>

    <link rel="stylesheet" href="styles.css">
    <style>
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
    }
    </style>
    <script langauage="javascript">
      function showMessage(value){
         document.getElementById("message").innerHTML = value;
      }	  
   </script>
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--no-desktop-drawer-button">

      <div class="dash-header mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row">
          <span class="dash-title mdl-layout-title">
           <a href="index.html"> <img class="dash-logo-image" src="images/DashLogo_horizontal.png"></a>
          </span>
          <!-- Add spacer, to align navigation to the right in desktop -->
          <div class="dash-header-spacer mdl-layout-spacer"></div>
          
          <!-- Navigation -->
          <div class="dash-navigation-container">
            <nav class="dash-navigation mdl-navigation">
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="/">Home</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="/logout">Logout</a>
            </nav>
          </div>
          <span class="dash-mobile-title mdl-layout-title">
           <a href="index.html"> <img class="dash-logo-image" src="images/DashLogo_small.png"></a>
          </span>
        </div>
      </div>

      <div class="dash-drawer mdl-layout__drawer">
        <span class="mdl-layout-title">
          <a href="index.html"><img class="dash-logo-image" src="images/DashLogo_white.png"></a>
        </span>
        <nav class="mdl-navigation">
          <a class="mdl-navigation__link" href="index.html">Home</a>
          <a class="mdl-navigation__link" href="/logout">Logout</a>
          </div>


         <!-- Contact Section -->
    <section id="find_flight">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Find Your Flight</h2>
                    <h3 class="section-subheading">tell us where you want to go!</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <form name="sentMessage" id="find_flight_form" novalidate>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                              
                                   
                                   
                                    <input type="text" class="form-control" placeholder="orlando" id="destination" required data-validation-required-message="Orlando">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="form-group">
                                    <input type="email" class="form-control" placeholder="what is your budget?" id="budget" required data-validation-required-message="Please enter your email address.">
                                    <p class="help-block text-danger"></p>
                                </div></div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="tel" class="form-control" placeholder="leaving: 01/01/2017" id="outbound" required data-validation-required-message="Please enter your phone number.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="form-group">
                                    <input type="tel" class="form-control" placeholder="returning: 01/01/2017" id="inbound" required data-validation-required-message="Please enter your phone number.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                 </div>
                               
                               <div class="row">
                            <div class="col-lg-12">
                                <div class="col-md-4 form-group">
                                    <input type="tel" class="form-control" placeholder="number of adults" id="adults" required data-validation-required-message="Please enter your phone number.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="col-md-4 form-group">
                                    <input type="tel" class="form-control" placeholder="number of children" id="children" required data-validation-required-message="Please enter your phone number.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="col-md-4 form-group">
                                    <input type="tel" class="form-control" placeholder="number of infants" id="infants" required data-validation-required-message="Please enter your phone number.">
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                               </div>
                            <div class="clearfix"></div>
                            <div class="col-lg-12 text-center">
                            <div class="col-lg-12 center">
                                <div id="find-flight" class="flight-button"></div>
                                <button type="submit" onclick="pullEvents();fillFlights();" class="btn btn-xl flight-btn">find my flight</button>
                            </div>
                            <!--<div class="col-lg-6">
                                <div id="feeling-lucky" class="flight-button"></div>
                                <button type="submit" class="btn btn-xl">feeling lucky</button>
                            </div>-->
                        </div>
                    </form>
                    
                </div>
            </div>
        </div>
    </section>
<!-- fights available and information-->

   <div id='flight_info'>
        <div class='container'>
            <div class='row'>
                <div class='col-lg-12 center'>
                    <h2><span style="color:dimgrey">Flight Information</span></h1>

              
  <table id="flights" class="table table-striped">

    <thead>
      <tr>
        <th>Flight Carrier</th>
        <th>Price</th>
        <th>Date of Flight</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
      </tr>
      <tr>
        <td>Mary</td>
        <td>Moe</td>
        <td>mary@example.com</td>
      </tr>
      <tr>
        <td>July</td>
        <td>Dooley</td>
        <td>july@example.com</td>
      </tr>
    </tbody>
  </table></div></div>
  
  <div></div>
  <div id= 'eventss' class='row'>
    <div class='col-lg-12 center'>

        <h2><span style='color:dimgrey'>Events In The Area</span></h1>

        <table id='event_info' class='table table-striped form-group'>
         <thead>
      <tr>
        <th>Event Name</th>
        <th>Event City</th>
        <th>Start Date</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>John</td>
        <td>Doe</td>
        <td>john@example.com</td>
      </tr>
      <tr>
        <td>Mary</td>
        <td>Moe</td>
        <td>mary@example.com</td>
      </tr>
      <tr>
        <td>July</td>
        <td>Dooley</td>
        <td>july@example.com</td>
      </tr>
    </tbody>
  </table>
</div> 
         
         
         
          <div class="flights" id="flight"></div>
          <div class="shopping" id="shopping-items"></div>
				</div></div></div>


        <footer class="dash-footer mdl-mega-footer">
          <div class="mdl-mega-footer--top-section">
            <div class="mdl-mega-footer--left-section">
            </div>
            <div class="mdl-mega-footer--right-section">
              <a class="mdl-typography--font-light" href="#top">
                Back to Top
                <i class="material-icons">expand_less</i>
              </a>
            </div>
          </div>

          <div class="mdl-mega-footer--middle-section">
            <p class="mdl-typography--font-light">DASH © 2017 Charlotte, North Carolina</p>
            <p class="mdl-typography--font-light">*We do not share any of your personal information.</p>
          </div>

           

        </footer>
      </div>
    </div>
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  </body>
  <script type="text/javascript">
//Work in progess 3/31/17 Austin Ignaczak
function fillFlights() {
  var html = '<table><thead><tr>...</tr></thead><tbody>';

$(document).ready( function() {
  console.log("")
    $("#flight_info").html(
         "<section id='flight_info'><div class='container'><div class='row'><div class='col-lg-12 center'><h2><span style='color:dimgrey'>Flight Information</span></h1>" +

        "<table id='flight_info' class='table table-striped'>" +
        "<thead><tr><th>Flight Carrier</th><th>Price</th><th>Date of Flight</th></tr></thead>" +
        "<tbody><tr><td>Frontier</td><td>$104</td><td>April 24th - April 29th</td></tr>" +
              "<tr><td>American</td><td>$160</td><td>April 24th - April 29th</td></tr>"+
              "<tr><td>United</td><td>$243</td><td>April 24th - April 29th</td></tr>" );
    $("#eventss").html(
     "<div id='eventss' class='row'><div class='col-lg-12 center'><h2><span style='color:dimgrey'>Events In The Area</span></h1><table id='event_info' class='table table-striped form-group'><thead><tr><th>Event Name</th><th>Event City</th><th>Start Date</th></tr></thead><tbody><tr><td>John</td><td>Doe</td><td>john@example.com</td></tr><tr><td>Mary</td><td>Moe</td><td>mary@example.com</td></tr><tr><td>July</td><td>Dooley</td><td>july@example.com</td></tr></tbody></table></div>"


  );
});


  
}



  function pullEvents()
    { 
    var cDate = Number(new Date());
    var nDate = cDate.toString();
    var eDate = cDate + 490135308759
    var fDate = eDate.toString();
        event.preventDefault();
      console.log("this ran")
      var visInfo = {
        Location: $("#destination").val().trim()
        // Time: $("#reserve-phone").val().trim()
      };
      console.log(visInfo)
    var oArgs = {

      app_key: "nkV3pGW2xFsX65dF",

      q: "music",

      where: visInfo.Location, 

      "date": nDate + "-" + fDate,
      
      page_size: 5,

      sort_order: "popularity",

    };

   EVDB.API.call("/events/search", oArgs, function(oData) {

    console.log(oData.events.event[0])
    var content = "<table>"
for(i=0; i<5; i++){
    content += '<tr><td>' + oData.events.event[i].title + " " + "City: " +oData.events.event[i].city_name + '</td></tr>' 
    // + "<img src="+oData.events.event[0].image.medium.url+">"+"</img>";
    var event1 = oData.events.event[0].title
    var event2 = oData.events.event[1].title
    var event3 = oData.events.event[2].title
    var event4 = oData.events.event[3].title
    var event5 = oData.events.event[4].title


console.log(event1)
}









      // Note: this relies on the custom toString() methods below

    });

}





  </script>
</html>
